<div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
    <div style="display: flex; min-width: 170px;">
        <div
            style="position: relative; height: 20px; width: 20%; line-height: 1; display: flex; align-items: center; justify-content: center; background-color: rgb(255, 38, 42); color: rgb(255, 255, 255); transform: none; box-shadow: none; opacity: 0.5; z-index: 1;">
        </div>
        <div
            style="position: relative; height: 20px; width: 20%; line-height: 1; display: flex; align-items: center; justify-content: center; background-color: rgb(255, 182, 7); color: rgb(0, 0, 0); transform: none; box-shadow: none; opacity: 0.5; z-index: 1;">
        </div>
        <div
            style="position: relative; height: 20px; width: 20%; line-height: 1; display: flex; align-items: center; justify-content: center; background-color: rgb(255, 255, 47); color: rgb(0, 0, 0); transform: none; box-shadow: none; opacity: 0.5; z-index: 1;">
        </div>
        <div
            style="position: relative; height: 20px; width: 20%; line-height: 1; display: flex; align-items: center; justify-content: center; background-color: rgb(0, 255, 85); color: rgb(0, 0, 0); transform: scale(1.6, 1.6); box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 5px 1px; border-radius: 2px; opacity: 1; z-index: 2;">
            <strong style="padding: 1rem; font-size: 7px; text-align: center;">ALTO</strong>
        </div>
        <div
            style="position: relative; height: 20px; width: 20%; line-height: 1; display: flex; align-items: center; justify-content: center; background-color: rgb(0, 188, 42); color: rgb(255, 255, 255); transform: none; box-shadow: none; opacity: 0.5; z-index: 1;">
        </div>
    </div>
    <div style="margin-left: 1em;"><span><b>Alta</b><!-- react-text: 1490 --> probabilidad de cumplir con obligaciones
            crediticias<!-- /react-text --></span></div>
</div>

<div class="text-center">
    <div class="income-indicator">
        <div class="pull-right" style="min-width: 170px;">
            <div style="display: flex; height: 24px; width: 100%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(130, 166, 82); padding-left: 1rem; line-height: 24px; color: rgb(255, 255, 255);">
                    <strong>R1</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(130, 166, 82);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 88.8889%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(211, 214, 83); padding-left: 1rem; line-height: 24px; color: rgb(0, 0, 0);">
                    <strong>R2</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(211, 214, 83);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 77.7778%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(243, 236, 58); padding-left: 1rem; line-height: 24px; color: rgb(0, 0, 0);">
                    <strong>R3</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(243, 236, 58);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 66.6667%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(238, 189, 94); padding-left: 1rem; line-height: 24px; color: rgb(0, 0, 0);">
                    <strong>R4</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(238, 189, 94);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 55.5556%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(226, 165, 74); padding-left: 1rem; line-height: 24px; color: rgb(0, 0, 0);">
                    <strong>R5</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(226, 165, 74);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 44.4444%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(215, 112, 61); padding-left: 1rem; line-height: 24px; color: rgb(255, 255, 255);">
                    <strong>R6</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(215, 112, 61);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 33.3333%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(210, 85, 55); padding-left: 1rem; line-height: 24px; color: rgb(255, 255, 255);">
                    <strong>R7</strong>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(210, 85, 55);">
                </div>
            </div>
            <div style="display: flex; height: 24px; width: 22.2222%; position: relative; margin: 2px 0px;">
                <div
                    style="width: 80%; height: 100%; background-color: rgb(182, 57, 81); padding-left: 1rem; line-height: 24px; color: rgb(255, 255, 255);">
                    <strong>R8</strong>
                    <div style="position: absolute; right: calc(100% + 2px); top: 4px;">
                        <div
                            style="width: 0px; height: 0px; border-top: 8px solid transparent; border-bottom: 8px solid transparent; border-left: 8px solid rgba(0, 0, 0, 0.8);">
                        </div>
                    </div>
                </div>
                <div
                    style="width: 0px; height: 0px; border-style: solid; border-width: 12px 0px 12px 24px; border-color: transparent transparent transparent rgb(182, 57, 81);">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-lg-4 col-lg-push-0 col-md-4 col-md-push-0 col-sm-8 col-sm-push-2">
    <div>
        <h4 class="text-center">Denuncias de Morosidad Vigentes</h4>
        <p class="text-center">Monto adeudado de la persona en concepto de préstamos y créditos otorgados.</p>
        <div class="row">
            <div class="text_center col-sm-10 col-sm-push-1"><span><strong><!-- react-text: 1539 -->Cantidad de
                        denuncias<!-- /react-text --><!-- react-text: 1540 -->:
                        <!-- /react-text --></strong><!-- react-text: 1541 -->0<!-- /react-text --></span><br><span><strong><!-- react-text: 1545 -->Total<!-- /react-text --><!-- react-text: 1546 -->:
                        <!-- /react-text --></strong><!-- react-text: 1547 -->$ 0<!-- /react-text --></span></div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <ul class="list-group"></ul>
            </div>
        </div>
    </div>
</div>



        <div class="card-header">
            <h3 class="card-title mb-0">Resultado de la consulta</h3>
        </div>
        <div class="card-body">
            @if(isset($datos) && is_array($datos))
                <div class="table-responsive">
                    <table class="table table-bordered table-striped">
                        <tbody>
                        @foreach($datos as $key => $value)
                            <tr>
                                <th style="width: 250px;">{{ ucwords(str_replace('_', ' ', $key)) }}</th>
                                <td>
                                    @if(is_array($value) || is_object($value))
                                        <pre style="white-space: pre-wrap; word-break: break-all; background: #f8f9fa; border: 1px solid #ddd; padding: 1em;">{{ json_encode($value, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE) }}</pre>
                                    @else
                                        {{ $value }}
                                    @endif
                                </td>
                            </tr>
                        @endforeach
                        </tbody>
                    </table>
                </div>
            @else
                <div class="alert alert-warning">No hay datos para mostrar.</div>
            @endif
        </div>
        <div class="card-body mt-0">
            @if (isset($datos))
                @php $data = $datos['data'] ?? null; @endphp
                @php $p = $datos['data'][0] ?? null; @endphp
                @if ($datos)
                    <form class="row g-3 mt-4">
                        @php
                        function renderJsonForm($data, $parentKey = '') {
                            $html = '';
                            if (is_array($data) || is_object($data)) {
                                foreach ($data as $key => $value) {
                                    $label = $parentKey ? $parentKey . ' &rarr; ' . $key : $key;
                                    if (is_array($value) || is_object($value)) {
                                        $html .= '<div class="col-12 mt-3"><h5 class="section-title">' . e(ucwords(str_replace('_', ' ', $label))) . '</h5></div>';
                                        $html .= renderJsonForm($value, $label);
                                    } else {
                                        $html .= '<div class="col-md-4 mb-3"><div class="form-group"><label class="form-label fw-bold">' . e(ucwords(str_replace('_', ' ', $label))) . '</label>';
                                        $html .= '<input type="text" class="form-control campo-json" value="' . e($value) . '" readonly></div></div>';
                                    }
                                }
                            }
                            return $html;
                        }
                        @endphp
                        {!! renderJsonForm($datos) !!}
                    </form>
                @else
                    <div class="alert alert-warning mt-4">
                        <strong>No se encontraron datos para la consulta.</strong>
                    </div>
                @endif
            @else
                <div class="alert alert-warning mt-4">
                    <strong>Realice una consulta para ver el informe.</strong>
                </div>
            @endif
        </div>
    </div>
</div>

<div class="card mt-4">
    <div class="card-header bg-info text-white">
        <strong>JSON completo de la consulta</strong>
    </div>
    <div class="card-body">
        @if(isset($datos))
            <pre style="white-space: pre-wrap; word-break: break-all; background: #f8f9fa; border: 1px solid #ddd; padding: 1em;">
                {{ json_encode($datos, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE) }}
            </pre>
        @else
            <div class="alert alert-warning">No hay datos para mostrar.</div>
        @endif
    </div>
</div>

@endsection
 
 
